<!-- LES PIEDS SUIVENT MAINS -->
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="myutils.js"></script>
</head>

<body>
    <a-scene background="color: #80d9ca"
        fog="type: exponential; density: 0.25; color: #070707">

        <a-assets>
            <a-asset-item id="leftfoot" src="./assets/models/piedgauche.glb"></a-asset-item>
            <a-asset-item id="rightfoot" src="./assets/models/pieddroite.glb"></a-asset-item>
            <img id="skybox" src="./assets/images/skybox3e.jpg">
            <img id="wood" src="./assets/images/wood2.jpg">
            <img id="bark" src="./assets/images/bark.jpg">
            <img id="rope-cyl" src="./assets/images/rope2.png">
        </a-assets>

        <!-- INSEREZ VOTRE ENVIRONNEMENT, CI-DESSOUS ... -->
        <a-sky src="#skybox"
            material="fog: false">
        </a-sky>

        <a-entity light="type: hemisphere; color: #b6cbb1; groundColor: #b6cbb1; intensity: 1"></a-entity>
        <a-entity light="type: directional; color: #e9f578; intensity: 0.4" position="-0.5 1 1"></a-entity>


        <!-- first row -->

        <a-box
            position="-1.25 -0.05 1.25"
            height="0.1" depth="0.4" width="0.4"
            src="#wood">
            <a-cylinder position="0 -7 0" height="14" radius="0.08"
                material="src:#bark" repeat="1 50">
            </a-cylinder>
        </a-box>

        <a-box 
            position="-1.25 -0.05 -0.25"
            height="0.1" depth="0.4" width="0.4"
            src="#wood">
            <a-cylinder position="0 -7 0" height="14" radius="0.08"
                material="src:#bark" repeat="1 50">
            </a-cylinder>
        </a-box>

        <a-box
            position="-1.4 -0.05 -1.35"
            height="0.1" depth="0.4" width="0.4"
            src="#wood">
            <a-cylinder position="0 -7 0" height="14" radius="0.08"
                material="src:#bark" repeat="1 50">
            </a-cylinder>
        </a-box>


        <!-- second row -->

        <a-torus-knot
            position="-0.25 -0.05 1" rotation="30 90 0"
            radius-tubular="0.012" radius="0.03" p="1" q="3"
            material="src:#rope-cyl" repeat="6 1">
        </a-torus-knot>


        <a-cylinder
            position="-0.5 -6 0.5"
            height="18" radius="0.05"
            material="src:#bark" repeat="1 50">
        </a-cylinder>

        <a-torus
            position="-0.5 -0.05 0.5" rotation="90 0 0"
            radius-tubular="0.012" radius="0.06"
            material="src:#rope-cyl" repeat="5 1">
        </a-torus>

        <a-torus-knot
            position="-0.46 -0.05 0.58" rotation="40 180 0"
            radius-tubular="0.012" radius="0.03" p="1" q="3"
            material="src:#rope-cyl" repeat="6 1">
        </a-torus-knot>


        <a-box
            position="0 -0.05 0"
            height="0.1" depth="0.4" width="0.4"
            src="#wood">
            <a-cylinder position="0 -7 0" height="14" radius="0.08"
                material="src:#bark" repeat="1 50">
            </a-cylinder>
        </a-box>

        <a-box
            position="-0.25 -0.05 -1"
            height="0.1" depth="0.4" width="0.4"
            src="#wood">
            <a-cylinder position="0 -7 0" height="14" radius="0.08"
                material="src:#bark" repeat="1 50">
            </a-cylinder>
        </a-box>


        <!-- third row -->

        <a-box
            position="0.75 -0.05 1.35"
            height="0.1" depth="0.4" width="0.4"
            src="#wood">
            <a-cylinder position="0 -7 0" height="14" radius="0.08"
                material="src:#bark" repeat="1 50">
            </a-cylinder>
        </a-box>

        <a-torus-knot
            position="1.5 -0.05 0.25" rotation="30 90 0"
            radius-tubular="0.012" radius="0.03" p="1" q="3"
            material="src:#rope-cyl" repeat="6 1">
        </a-torus-knot>

        <a-box
            position="1.25 -0.05 -1.25"
            height="0.1" depth="0.4" width="0.4"
            src="#wood">
            <a-cylinder position="0 -7 0" height="14" radius="0.08"
                material="src:#bark" repeat="1 50">
            </a-cylinder>
        </a-box>


        <!-- rope -->

        <a-cylinder
            position="-0.125 -0.05 -0.5" rotation="90 0 168.7"
            height="1.030776" radius="0.02"
            material="src:#rope-cyl" repeat="1 10">
        </a-cylinder>

        <a-cylinder
            position="-0.875 -0.05 -1.25" rotation="90 0 107.65"
            height="1.3" radius="0.02"
            material="src:#rope-cyl" repeat="1 10">
        </a-cylinder>

        <a-cylinder
            position="-1.375 -0.05 -0.875" rotation="-90 0 19.654"
            height="1.2" radius="0.02"
            material="src:#rope-cyl" repeat="1 10">
        </a-cylinder>

        <a-cylinder
            position="-1.25 -0.05 0.5" rotation="-90 0 0"
            height="1.5" radius="0.02"
            material="src:#rope-cyl" repeat="1 10">
        </a-cylinder>

        <a-cylinder
            position="-0.75 -0.05 1.125" rotation="90 0 75.96"
            height="1.030776" radius="0.02"
            material="src:#rope-cyl" repeat="1 10">
        </a-cylinder>

        <a-cylinder
            position="-0.375 -0.05 0.75" rotation="90 0 153.43"
            height="0.559017" radius="0.02"
            material="src:#rope-cyl" repeat="1 6">
        </a-cylinder>

        <a-cylinder
            position="0.25 -0.05 1.25" rotation="90 0 116.8"
            height="1.118034" radius="0.02"
            material="src:#rope-cyl" repeat="1 10">
        </a-cylinder>

        <a-cylinder
            position="1.125 -0.05 0.875" rotation="90 0 -149.04"
            height="1.457738" radius="0.02"
            material="src:#rope-cyl" repeat="1 10">
        </a-cylinder>

        <a-cylinder
            position="2 -0.05 0.375" rotation="90 0 104.04"
            height="1.030776" radius="0.02"
            material="src:#rope-cyl" repeat="1 10">
        </a-cylinder>

        <a-cylinder
            position="1.375 -0.05 -0.5" rotation="90 0 170.54"
            height="1.52069" radius="0.02"
            material="src:#rope-cyl" repeat="1 10">
        </a-cylinder>

        
        <!-- outside -->

        <a-cylinder
            position="2.5 -6 0.5"
            height="18" radius="0.05"
            material="src:#bark" repeat="1 40">
        </a-cylinder>

        <a-torus
            position="2.5 -0.05 0.5" rotation="90 0 0"
            radius-tubular="0.012" radius="0.06"
            material="src:#rope-cyl" repeat="5 1">
        </a-torus>

        <a-torus-knot
            position="2.43 -0.05 0.49" rotation="80 180 0"
            radius-tubular="0.012" radius="0.03" p="1" q="3"
            material="src:#rope-cyl" repeat="6 1">
        </a-torus-knot>

        <!-- ... JUSQUE CI-DESSUS -->

        <!-- PLAYER -->
        <a-entity id="cameraRig">
            
            <!-- TETE -->
            <a-entity id="tete" camera position="0 1.6 0" 
                    look-controls wasd-controls>
            </a-entity>

            <!-- LEFT HAND -->
            <a-entity id="maingauche" hand-controls="hand: left; handModelStyle: lowPoly; color: #ffcccc">
            </a-entity>

            <!-- RIGHT HAND -->
            <a-entity id="maindroite" hand-controls="hand: right; handModelStyle: lowPoly; color: #ffcccc">
            </a-entity>

            <!-- PIEDS -->
            <a-entity id="piedgauche" gltf-model="#leftfoot" 
                      rotation="-90 0 180"
                      follow-head-rotation="trace: false" follow-hand-position>
            </a-entity>
            <a-entity id="pieddroite" gltf-model="#rightfoot" 
                      rotation="-90 0 180"
                      follow-head-rotation="trace: false" follow-hand-position>
            </a-entity>

        </a-entity>

    </a-scene>

</body>

</html>